(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{58:function(n,e,t){"use strict";(function(n){function o(n){return function(n){if(Array.isArray(n))return a(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}e.a={components:{Pkhex:function(){return t.e(27).then(t.bind(null,7))},Pokemon:function(){return t.e(5).then(t.bind(null,15))},Type:function(){return t.e(3).then(t.bind(null,16))}},data:function(){return{displayed:!1,showGames:!0,width:"",lastIndex:0,pokemon:{},location:{},game:{},places:[],pms:[],sizes:[80,90,96,100,120,144,145,150,160,180,192,200,218,225,240,250,290,300,320,375,450,480,500,600,640,799,800,900,1024,1134,1200],pokemons:[],trainers:[],locations:[],games:[],loadings:{locations:[],pokemons:[]}}},created:function(){this.getGames()},methods:{getGames:function(){var e=this;n.get("/pokemon/games",{params:{}}).then((function(n){var t=n.data;e.games=t;var a=screen.width<480?4:10,i=e.sizes.map((function(n){return Math.abs(n-screen.width/a)})),s=i.indexOf(Math.min.apply(Math,o(i)));e.width=e.sizes[s]}))},getGame:function(e){var t=this;this.showGames=!1;var o={index:this.games.indexOf(e)};n.get("/pokemon/games",{params:o}).then((function(n){var e=n.data;t.game=e;var o=t.games.find((function(n){return n.name.includes(e.name)}));Object.assign(t.game,o),t.getLocations(),t.getPokemons()}))},getLocations:function(){var e=this,t=this.game;n.get("/pokemon/locations",{params:t}).then((function(n){var t=n.data;e.locations=t;var o=Object.assign({},e.game);o.index=0,e.getLocation(o)}))},highlightPokemon:function(n,e){var t=this;this.pokemons.filter((function(n){return n.location&&n.location.name==e.name})).forEach((function(e){var o=t.locations[n.index].pokemons;o&&!o.includes(e)&&e.generation==t.game.generation&&(o.push(e),t.places=t.locations.filter((function(n){return n.pokemons&&n.pokemons.length})))}))},getLocation:function(e){var t=this;if(!(e.index<0||e.index==this.locations.length)){if(this.loadings.locations.find((function(n){return t.locations[e.index].name==n})))return this.highlightPokemon(e,this.locations[e.index]),e.index++,void this.getLocation(e);this.loadings.locations.push(this.locations[e.index].name),n.get("/pokemon/locations",{params:e}).then((function(n){var o=n.data;t.$set(t.locations,e.index,o),t.highlightPokemon(e,o),e.index++,t.getLocation(e)}))}},getPokemons:function(){var e=this,t=this.game;n.get("/pokemon/pokemons",{params:t}).then((function(n){var t=n.data;e.pokemons=t;var a=o(t).reverse().findIndex((function(n){return n.generation==e.game.generation}));e.lastIndex=t.length-a-1;var i=Object.assign({},e.game);i.index=e.pokemons.findIndex((function(n){return n.generation==e.game.generation})),e.getPokemon(i)}))},getPokemon:function(e){var t=this;if(e.index>this.lastIndex){if(this.pokemons.filter((function(n){return n.generation==t.game.generation&&n.location.name})).forEach((function(n){var e=t.places.find((function(e){return e.name==n.location.name}));e?e.pokemons.find((function(e){return e.name==n.name}))||e.pokemons.push(n):((e={name:n.location.name,pokemons:[]}).pokemons.push(n),t.places.push(e))})),!this.pokemons[0].srcset){var o=Object.assign({},e);o.index=0,this.getPokemon(o)}}else{if(this.loadings.pokemons.find((function(n){return n==t.pokemons[e.index].name})))return e.index++,void this.getPokemon(e);this.loadings.pokemons.push(this.pokemons[e.index].name),n.get("/pokemon/pokemons",{params:e}).then((function(n){var o=n.data;t.$set(t.pokemons,e.index,o),o.generation==t.game.generation&&t.pms.push(o);var a=o.location.name;if(a){var i=t.locations.findIndex((function(n){return n.name==a})),s=Object.assign({},e);s.index=i,t.getLocation(s)}e.index++,t.getPokemon(e)}))}},showPokemon:function(n){this.displayed=!0,this.pokemon=n},showLocation:function(n){this.location=n}}}}).call(this,t(59))},8:function(n,e,t){"use strict";t.r(e);var o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"pocket-monster"}},[n.game.name?t("h2",[n._v("Saves")]):n._e(),n._v(" "),n.game.name?t("pkhex",{attrs:{game:n.game}}):n._e(),n._v(" "),n.game.name?n._e():t("h2",[n._v("Games")]),n._v(" "),n.game.name?n._e():t("div",{attrs:{id:"games"}},n._l(n.games,(function(e){return t("div",{key:e.name,staticClass:"card",on:{click:function(t){return n.getGame(e)}}},[t("div",{staticClass:"title"},[t("a",{attrs:{href:e.name}},[n._v(n._s(decodeURI(e.name.replace(/_/g," ").replace(/and/,"&"))))])]),n._v(" "),t("div",n._l(e.srcset,(function(n){return t("img",{key:n,attrs:{src:n}})})),0)])})),0),n._v(" "),n.game.name?t("h2",[n._v("Game")]):n._e(),n._v(" "),n.game.name?t("div",{attrs:{id:"game"}},[t("div",{staticClass:"card",style:{width:405*n.game.srcset.length+"px"}},[t("div",{staticClass:"title"},[t("a",{attrs:{href:n.game.name}},[n._v(n._s(n.game.name))])]),n._v(" "),t("div",n._l(n.game.srcset,(function(n){return t("img",{key:n,attrs:{src:n}})})),0)])]):n._e(),n._v(" "),n.places.length?t("h2",[n._v("Locations")]):n._e(),n._v(" "),t("div",{attrs:{id:"locations"}},n._l(n.places,(function(e){return t("div",{key:e.name,staticClass:"card",on:{click:function(t){return n.showLocation(e)}}},[e.srcset?t("img",{attrs:{src:e.srcset[0].src}}):n._e(),n._v(" "),t("div",{staticClass:"title"},[t("a",{attrs:{href:e.href}},[n._v(n._s(e.name))])]),n._v(" "),t("div",{staticClass:"pokemons"},n._l(e.pokemons,(function(e){return t("div",{key:e.name,staticClass:"card flex",on:{click:function(t){return t.stopPropagation(),n.showPokemon(e)}}},[e.srcset[0]?t("img",{attrs:{src:e.srcset[0].src}}):n._e(),n._v(" "),t("span",{staticClass:"title"},[n._v(n._s(decodeURI(e.name)+" "+e.location.level))])])})),0)])})),0),n._v(" "),n.pms.length?t("h2",[n._v("Pokemons")]):n._e(),n._v(" "),t("div",{attrs:{id:"pokemons"}},n._l(n.pms,(function(e){return t("div",{key:e.name,staticClass:"card",on:{click:function(t){return n.showPokemon(e)}}},[e.srcset[0]?t("img",{attrs:{src:e.srcset[0].src}}):n._e(),n._v(" "),t("div",{staticClass:"title"},[t("a",{attrs:{href:e.href}},[n._v(n._s(decodeURI(e.name)))])])])})),0),n._v(" "),t("modal",{attrs:{displayed:n.displayed,bar:decodeURI(n.pokemon.name)},on:{"update:displayed":function(e){n.displayed=e}}},[t("pokemon",{attrs:{locations:n.locations,pokemon:n.pokemon,pokemons:n.pokemons},on:{show:n.showPokemon}})],1)],1)};o._withStripped=!0;var a=t(58).a,i=t(0),s=Object(i.a)(a,o,[],!1,null,null,null);s.options.__file="vue/layouts/pokemon/index.vue";e.default=s.exports}}]);