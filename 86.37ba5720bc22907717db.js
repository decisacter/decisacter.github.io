(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{125:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h3",[e._v("List")]),e._v(" "),n("section",[n("h4",[e._v("Mapping an Array to Elements with v-for")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),n("div",{staticClass:"my-demo"},[n("ul",e._l(e.items,(function(t){return n("li",{key:t.message},[e._v("\n          "+e._s(t.message)+"\n        ")])})),0)])]),e._v(" "),n("section",[n("h4",[e._v("v-for with an Object")]),e._v(" "),e._m(4),e._v(" "),n("p",[e._v("You can also provide a second argument for the property's name (a.k.a. key) And another for the index:")]),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),n("div",{staticClass:"my-demo"},[n("ul",e._l(e.book,(function(t,s,i){return n("li",{key:i},[e._v("\n          "+e._s(i)+". "+e._s(s)+": "+e._s(t)+"\n        ")])})),0)])]),e._v(" "),e._m(7),e._v(" "),n("section",[n("h4",[e._v("Array change Detection")]),e._v(" "),n("section",[n("h5",[e._v("Caveats")]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),n("div",{staticClass:"my-demo"},[n("p",[n("button",{on:{click:e.change}},[e._v("Change")]),e._v(" "),n("button",{on:{click:e.set}},[e._v("Set")])]),e._v("\n        "+e._s(e.items.length)+"\n        "),n("ul",e._l(e.items,(function(t){return n("li",{key:t.message},[e._v("\n            "+e._s(t.message)+"\n          ")])})),0)]),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14)])]),e._v(" "),n("section",[n("h4",[e._v("Object Change Detection Caveats")]),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),n("div",{staticClass:"my-demo"},[n("p",[n("button",{on:{click:e.change}},[e._v("Change")]),e._v(" "),n("button",{on:{click:e.assign}},[e._v("Assign")])]),e._v(" "),n("ul",e._l(e.userProfile,(function(t,s){return n("li",{key:s},[e._v("\n          "+e._s(s)+": "+e._s(t)+"\n        ")])})),0)])]),e._v(" "),n("section",[n("h4",[e._v("Displaying Filtered/Sorted Results")]),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),n("div",{staticClass:"my-demo"},[n("ul",[e._l(e.evenNumbers,(function(t){return n("li",{key:9*t},[e._v(e._s(t))])})),e._v(" "),e._l(e.even(e.numbers),(function(t){return n("li",{key:t/9},[e._v(e._s(t))])}))],2)])]),e._v(" "),n("section",[n("h4",[e._v("v-for with a Component")]),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),e._m(29),e._v(" "),e._m(30),e._v(" "),e._m(31),e._v(" "),n("div",{staticClass:"my-demo"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.addNewTodo(t)}}},[n("label",{attrs:{for:"new-todo"}},[e._v("Add a todo")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodoText,expression:"newTodoText"}],attrs:{id:"new-todo",placeholder:"E.g. Feed the cat"},domProps:{value:e.newTodoText},on:{input:function(t){t.target.composing||(e.newTodoText=t.target.value)}}}),e._v(" "),n("button",[e._v("Add")])]),e._v(" "),n("ul",e._l(e.todos,(function(t,s){return n("todo-item",{key:t.text,tag:"li",attrs:{todo:t},on:{remove:function(t){return e.todos.splice(s,1)}}})})),1)])])])};s._withStripped=!0;var i={components:{TodoItem:function(){return n.e(4).then(n.bind(null,136))}},data:function(){return{parentMessage:"Parent",items:[{message:"Foo"},{message:"Bar"}],book:{title:"How to do lists in Vue",author:"Jane Doe",publishedAt:"2016-04-10"},userProfile:{name:"Anika"},numbers:[1,2,3,4,5],newTodoText:"",todos:[{text:"Do the dishes"},{text:"Take out the trash"},{text:"Mow the lawn"}]}},methods:{change:function(){this.items[1]="Baz",this.items[0]="Zoo",this.items.length=2},set:function(){this.$set(this.items,1,{message:"Zoo"}),this.items.splice(3)},assign:function(){this.$set(this.userProfile,"degree","master"),this.userProfile=Object.assign({},this.userProfile,{age:27,favoriteColor:"Vue Green"})},even:function(e){return e.filter((function(e){return e%2==0}))},addNewTodo:function(){this.todos.push({text:this.newTodoText}),this.newTodoText=""}},computed:{evenNumbers:function(){return this.numbers.filter((function(e){return e%2==0}))}}},o=n(0),a=Object(o.a)(i,s,[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("We can use the "),n("code",[e._v("v-for")]),e._v(" directive to render a list of items based on an array. The "),n("code",[n("a",{staticClass:"vue-api"},[e._v("v-for")])]),e._v(" directive requires a special syntax in the form of "),n("code",[e._v("item in items")]),e._v(", where "),n("code",[e._v("items")]),e._v(" is the source data array and "),n("code",[e._v("item")]),e._v(" is an "),n("b",[e._v("alias")]),e._v(" for the array element being iterated on:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Inside "),t("code",[this._v("v-for")]),this._v(" blocks we have full access to parent scope properties. "),t("code",[this._v("v-for")]),this._v(" also supports an optional second argument for the index of the current item.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v('\n      <li v-for="(item, index) in items">\n        { parentMessage } - { index } - { item.message }\n      </li>\n    ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      data: {\n        parentMessage: 'Parent',\n        items: [\n          { message: 'Foo' },\n          { message: 'Bar' }\n        ]\n      }\n    ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can also use "),t("code",[this._v("v-for")]),this._v(" to iterate through the properties of an object.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v('\n      <div v-for="(value, name, index) in book">\n        { index }. { name }: { value }\n      </div>\n    ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      data: {\n        book: {\n          title: 'How to do lists in Vue',\n          author: 'Jane Doe',\n          publishedAt: '2016-04-10'\n        }\n      }\n    ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h4",[e._v("Maintaining State")]),e._v(" "),n("p",[e._v("To give Vue a hint so that it can track each node's identity, and thus reuse and reorder existing elements, you need to provide a unique "),n("code",[e._v("key")]),e._v(" attribute for each item:")]),e._v(" "),n("pre",[n("code",{staticClass:"my-html"},[e._v('\n      <div v-for="item in items" :key="item.id">\n        \x3c!-- content --\x3e\n      </div>\n    ')])]),e._v(" "),n("p",[e._v("It is recommended to provide a "),n("code",[e._v("key")]),e._v(" attribute with "),n("code",[e._v("v-for")]),e._v(" whenever possible, unless the iterated DOM content is simple, or you are intentionally relying on the default behavior for performance gains.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Due to limitations in JavaScript, Vue "),t("b",[this._v("cannot")]),this._v(" detect the following changes to an array:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("When you directly set an item with the index, e.g. "),t("code",[this._v("vm.items[indexOfItem] = newValue")])]),this._v(" "),t("li",[this._v("When you modify the length of the array, e.g. "),t("code",[this._v("vm.items.length = newLength")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n        var vm = new Vue({\n          data: {\n            items: ['a', 'b', 'c']\n          }\n        })\n        vm.items[1] = 'x' // is NOT reactive\n        vm.items.length = 2 // is NOT reactive\n      ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To overcome caveat 1, both of the following will accomplish the same as "),t("code",[this._v("vm.items[indexOfItem] = newValue")]),this._v(", but will also trigger state updates in the reactivity system. You can also use the "),t("a",{staticClass:"vue-api"},[t("code",[this._v("vm.$set")])]),this._v(" instance method, which is an alias for the global "),t("code",[t("a",{staticClass:"vue-api"},[this._v("Vue.set")])]),this._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n        methods: {\n          change() {\n            this.items[1] = 'Baz'\n            this.items[0] = 'Zoo'\n            this.items.length = 2\n          },\n          set() {\n            Vue.set(this.items, 0, {message: 'Baz'})\n            this.$set(this.items, 1, {message: 'Zoo'})\n            this.items.splice(3)\n          }\n        }\n      ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To deal with caveat 2, you can use "),t("code",[this._v("splice")]),this._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v('\n        <p><button @click="change">Change</button> <button @click="set">Set</button></p>\n        { items.length }\n        <ul>\n          <li v-for="item in items" :key="item.message">\n            { item.message }\n          </li>\n        </ul>\n      ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Again due to limitations of modern JavaScript, "),t("b",[this._v("Vue cannot detect property addition or deletion")]),this._v(". For example:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      var vm = new Vue({\n        data: {\n          a: 1\n        }\n      })\n      // `vm.a` is now reactive\n      \n      vm.b = 2\n      // `vm.b` is NOT reactive\n    ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("However, it's possible to add reactive properties to a nested object using the "),t("code",[this._v("Vue.set(object, propertyName, value)")]),this._v(" method. For example, given:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      var vm = new Vue({\n        data: {\n          userProfile: {\n            name: 'Anika'\n          }\n        }\n      })\n    ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("You could add a new "),n("code",[e._v("age")]),e._v(" property to the nested "),n("code",[e._v("userProfile")]),e._v(" object with Vue.set. You can also use the "),n("code",[e._v("vm.$set")]),e._v(" instance method, which is an alias for the global "),n("code",[e._v("Vue.set")]),e._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      Vue.set(vm.userProfile, 'age', 27)\n      vm.$set(vm.userProfile, 'age', 27)\n    ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Sometimes you may want to assign a number of new properties to an existing object, for example using "),t("code",[this._v("Object.assign()")]),this._v(" or "),t("code",[this._v("_.extend()")]),this._v(". In such cases, you should create a fresh object with properties from both objects. You would add new, reactive properties with:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      vm.userProfile = Object.assign({}, vm.userProfile, {\n        age: 27,\n        favoriteColor: 'Vue Green'\n      })\n    ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Sometimes we want to display a filtered or sorted version of an array without actually mutating or resetting the original data. In this case, you can create a computed property that returns the filtered or sorted array. In situations where computed properties are not feasible (e.g. inside nested "),t("code",[this._v("v-for")]),this._v(" loops), you can use a method:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v('\n      <li v-for="n in evenNumbers">{ n }</li>\n      <li v-for="n in even(numbers)">{ n }</li>\n    ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      data: {\n        numbers: [ 1, 2, 3, 4, 5 ]\n      },\n      methods: {\n        even(numbers) {\n          return numbers.filter((number) => number % 2 === 0)\n        }\n      },\n      computed: {\n        evenNumbers() {\n          return this.numbers.filter( (number) => number % 2 == 0)\n        }\n      }\n    ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can directly use "),t("code",[this._v("v-for")]),this._v(" on a custom component, like any normal element: However, this won't automatically pass any data to the component, because components have isolated scopes of their own. In order to pass the iterated data into the component, we should also use props:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The reason for not automatically injecting "),t("code",[this._v("item")]),this._v(" into the component is because that makes the component tightly coupled to how "),t("code",[this._v("v-for")]),this._v(" works. Being explicit about where its data comes from makes the component reusable in other situations.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v('\n      <form @submit.prevent="addNewTodo">\n        <label for="new-todo">Add a todo</label>\n        <input\n          v-model="newTodoText"\n          id="new-todo"\n          placeholder="E.g. Feed the cat">\n        <button>Add</button>\n      </form>\n      <ul>\n        \x3c!-- Dynamic Component todo-item --\x3e\n        <li\n          is="todo-item"\n          v-for="(todo, index) in todos"\n          :key="todo.text"\n          :todo="todo"\n          @remove="todos.splice(index, 1)"\n        ></li>\n      </ul>\n    ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v("\n      <template>\n        <li>{ todo.text } <button @click=\"$emit('remove')\">Remove</button> </li>\n      </template>\n      <script>\n      export default {\n        props: {\n          todo: Object\n        },\n      }\n      <\/script>\n    ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Note the "),n("code",[e._v('is="todo-item"')]),e._v(" attribute. This is necessary in DOM templates, because only an "),n("code",[e._v("<li>")]),e._v(" element is valid inside a "),n("code",[e._v("<ul>")]),e._v(". It does the same thing as "),n("code",[e._v("<todo-item>")]),e._v(", but works around a potential browser parsing error.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\n      components: {\n        TodoItem: () => import('../components/TodoItem')\n      },\n      data: {\n        newTodoText: '',\n        todos: [\n          {\n            text: 'Do the dishes',\n          },\n          {\n            text: 'Take out the trash',\n          },\n          {\n            text: 'Mow the lawn'\n          }\n        ],\n      },\n      methods: {\n        addNewTodo() {\n          this.todos.push({\n            text: this.newTodoText\n          })\n          this.newTodoText = ''\n        }\n      }\n    ")])])}],!1,null,null,null);a.options.__file="docs/web/vue/guide/List.vue";t.default=a.exports}}]);