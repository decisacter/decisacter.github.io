(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{128:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h3",[t._v("Components")]),t._v(" "),n("section",[n("h4",[t._v("Basic Example")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"my-demo"},[n("button-counter")],1)]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),n("section",[n("h4",[t._v("Listening to Child Components Events")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),n("p",[t._v("Which can be used in the template to control the font size of all blog posts:")]),t._v(" "),t._m(10),t._v(" "),n("p",[t._v("Now let's add a button to enlarge the text right before the content of every post:")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),n("section",[n("h5",[t._v("Emitting a Value With an Event")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),n("p",[t._v("Then the value will be passed as the first parameter of that method:")]),t._v(" "),t._m(18),t._v(" "),n("div",{staticClass:"my-demo"},[n("div",{style:{fontSize:t.postFontSize+"em"}},t._l(t.posts,(function(e){return n("blog-post",{key:e.id,attrs:{post:e},on:{"enlarge-text":t.enlargeText}})})),1)])]),t._v(" "),n("section",[t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),n("p",[t._v("does the same thing as:")]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),n("p",[t._v("Here's that in action:")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),n("div",{staticClass:"my-demo"},[n("custom-input",{model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v("\n        search text in input: "+t._s(t.searchText)+"\n      ")],1)])]),t._v(" "),n("section",[n("h4",[t._v("Content Distribution with Slots")]),t._v(" "),n("p",[t._v("Just like with HTML elements, it's often useful to be able to pass content to a component, like this:")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),n("div",{staticClass:"my-demo"},[n("alert-box",[t._v("\n        Something bad happened.\n      ")])],1)]),t._v(" "),n("section",[n("h4",[t._v("Dynamic Components")]),t._v(" "),n("p",[t._v("Sometimes, it's useful to dynamically switch between components, like in a tabbed interface:")]),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),n("div",{staticClass:"my-demo"},[t._l(t.tabs,(function(e){return n("button",{key:e,class:["tab-button",{active:t.currentTab===e}],on:{click:function(n){t.currentTab=e}}},[t._v(t._s(e))])})),t._v(" "),n(t.currentTabComponent,{tag:"component",staticClass:"tab"})],2)])])};s._withStripped=!0;var o={components:{ButtonCounter:function(){return n.e(61).then(n.bind(null,138))},BlogPost:function(){return n.e(60).then(n.bind(null,139))},CustomInput:function(){return n.e(64).then(n.bind(null,140))},AlertBox:function(){return n.e(24).then(n.bind(null,179))},TabHome:function(){return n.e(69).then(n.bind(null,180))},TabPosts:function(){return n.e(7).then(n.bind(null,141))},TabArchive:function(){return n.e(9).then(n.bind(null,181))}},data:function(){return{posts:[],postFontSize:1,searchText:"",currentTab:"Home",tabs:["Home","Posts","Archive"]}},computed:{currentTabComponent:function(){return"tab-".concat(this.currentTab.toLowerCase())}},created:function(){var t=this;fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return t.json()})).then((function(e){t.posts=e.slice(0,2)}))},methods:{enlargeText:function(t){this.postFontSize+=t}}},i=n(0),a=Object(i.a)(o,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Components are reusable Vue instances with a name: in this case, "),e("code",[this._v("<button-counter>")]),this._v(". We can use this component as a custom element inside a root Vue instance created with "),e("code",[this._v("new Vue")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n      <template>\n        <button @click="count++">You clicked me { count } times.</button>\n      </template>\n      <script>\n      export default {\n        data() {\n          return {\n            count: 0\n          }\n        },\n      }\n      <\/script>\n    ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n      <div id="components-demo">\n        <button-counter></button-counter>\n      </div>\n    ')])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h4",[t._v("Reusing Components")]),t._v(" "),n("section",[n("h5",[t._v("Data must be a function")]),t._v(" "),n("p",[t._v("Instead, "),n("b",[t._v("a component's "),n("code",[t._v("data")]),t._v(" option must be a function")]),t._v(", so that each instance can maintain an independent copy of the returned data object")]),t._v(" "),n("pre",[n("code",{staticClass:"my-js"},[t._v("\n        data() {\n          return {\n            count: 0\n          }\n        }\n      ")])]),t._v(" "),n("p",[t._v("If Vue didn't have this rule, clicking on one button would affect the data of "),n("i",[t._v("all other instances")]),t._v(" of the same component")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h4",[t._v("Organizing Components")]),t._v(" "),n("p",[t._v("It's common for an app to be organized into a tree of nested components. For example, you might have components for a header, sidebar, and content area, each typically containing other components for navigation links, blog posts, etc.")]),t._v(" "),n("p",[t._v("To use these components in templates, they must be registered so that Vue knows about them. There are two types of component registration: "),n("b",[t._v("global")]),t._v(" and "),n("b",[t._v("local")]),t._v(". So far, we've only registered components globally, using "),n("code",[t._v("Vue.component")]),t._v(":")]),t._v(" "),n("pre",[n("code",{staticClass:"my-js"},[t._v("\n      Vue.component('my-component-name', {\n        // ... options ...\n      })\n    ")])]),t._v(" "),n("p",[t._v("Globally registered components can be used in the template of any root Vue instance ("),n("code",[t._v("new Vue")]),t._v(") created afterwards - and even inside all subcomponents of that Vue instance's component tree.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h4",[t._v("Passing Data to Child Components with Props")]),t._v(" "),n("p",[t._v("Child Component won't be useful unless you can pass data to it, such as the title and content of the specific post we want to display. That's where props come in.")]),t._v(" "),n("p",[t._v("Props are custom attributes you can register on a child component. When a value is passed to a prop attribute, it becomes a property on that component instance. To pass a title to our blog post component, we can include it in the list of props this component accepts, using a "),n("code",[n("a",{staticClass:"vue-api"},[t._v("props")])]),t._v(" option:")]),t._v(" "),n("p",[t._v("You'll see that we can use "),n("code",[t._v("v-bind")]),t._v(" to dynamically pass props. This is especially useful when you don't know the exact content you're going to render ahead of time, like when "),n("b",[t._v("fetching posts from an API")]),t._v(".")]),t._v(" "),n("pre",[n("code",{staticClass:"my-js"},[t._v("\n      export default {\n        props: {\n          post: {\n            type: Object,\n          },\n        }\n      }\n    ")])]),t._v(" "),n("p",[t._v("Then want to render a component for each one:")]),t._v(" "),n("pre",[n("code",{staticClass:"my-html"},[t._v('\n      <blog-post\n        v-for="post in posts"\n        :key="post.id"\n        \x3c!-- attribute (left part) is child component prop, value (right part) is parent component data --\x3e\n        :post="post"\n      ></blog-post>\n    ')])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h4",[t._v("A Single Root Element")]),t._v(" "),n("p",[t._v("If you try this in your template however, Vue will show an error, explaining that "),n("b",[t._v("every component must have a single root element")]),t._v(". You can fix this error by wrapping the template in a parent element")]),t._v(" "),n("p",[t._v("So this might be a good time to refactor the "),n("code",[t._v("<blog-post>")]),t._v(" component to accept a single "),n("code",[t._v("post")]),t._v(" prop instead:")]),t._v(" "),n("pre",[n("code",{staticClass:"my-html"},[t._v('\n      \x3c!-- parent component use child component html --\x3e\n      <blog-post\n        v-for="post in posts"\n        :key="post.id"\n        :post="post"\n      ></blog-post>\n    ')])]),t._v(" "),n("pre",[n("code",{staticClass:"my-js"},[t._v('\n      <templat>\n        <div>\n          <h3>{ post.title }</h3>\n          <div v-html="post.body"></div>\n        </div>\n      </templat>\n    ')])]),t._v(" "),n("p",[t._v("Now, whenever a new property is added to "),n("code",[t._v("post")]),t._v(" objects, it will automatically be available inside "),n("code",[t._v("<blog-post>")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("As we develop our "),e("code",[this._v("<blog-post>")]),this._v(" component, some features may require communicating back up to the parent. For example, we may decide to include an accessibility feature to enlarge the text of blog posts, while leaving the rest of the page its default size:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In the parent, we can support this feature by adding a "),e("code",[this._v("postFontSize")]),this._v(" data property:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-js"},[this._v("\n      data: {\n        posts: [/* ... */],\n        postFontSize: 1\n      }\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n      <div :style="{ fontSize: `${postFontSize}em` }">\n        <blog-post\n          v-for="post in posts"\n          :key="post.id"\n          :post="post"\n        ></blog-post>\n      </div>\n    ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n      <template>\n        <div class="blog-post">\n          <h3>{ post.title }</h3>\n          <div v-html="post.body"></div>\n          <button @click="$emit(\'enlarge-text\', 0.1)">Enlarge text</button>\n        </div>\n      </template>\n    ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When we click on the button, we need to communicate to the parent that it should enlarge the text of all posts. Fortunately, Vue instances provide a custom events system to solve this problem. The parent can choose to listen to any event on the child component instance with "),e("code",[this._v("v-on")]),this._v(", just as we would with a native DOM event:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Then the child component can emit an event on itself by calling the built-in "),e("a",{staticClass:"vue-api"},[e("code",[this._v("$emit")])]),this._v(" method, passing the name of the event")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It's sometimes useful to emit a specific value with an event. For example, we may want the "),e("code",[this._v("<blog-post>")]),this._v(" component to be in charge of how much to enlarge the text by. In those cases, we can use "),e("code",[this._v("$emit")]),this._v("'s 2nd parameter to provide this value:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v("\n        <button :click=\"$emit('enlarge-text', 0.1)\">\n          Enlarge text\n        </button>\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Then when we listen to the event in the parent, we can access the emitted event's value with "),e("code",[this._v("$event")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n        <blog-post\n          ...\n          @enlarge-text="enlargeText"\n        ></blog-post>\n      ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-js"},[this._v("\n        methods: {\n          enlargeText(enlargeAmount) {\n            this.postFontSize += enlargeAmount\n          }\n        }\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h5",[this._v("Using "),e("code",[this._v("v-model")]),this._v(" on Components")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Custom events can also be used to create custom inputs that work with "),e("code",[this._v("v-model")]),this._v(". Remember that:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n        <input v-model="searchText">\n      ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n        <input\n          :value="searchText"\n          :input="searchText = $event.target.value"\n        >\n      ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When used on a component, "),e("code",[this._v("v-model")]),this._v(" instead does this:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n        <custom-input\n          :value="searchText"\n          :input="searchText = $event"\n        ></custom-input>\n      ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For this to actually work though, the "),e("code",[this._v("<input>")]),this._v(" inside the component must:")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("Bind the "),n("code",[t._v("value")]),t._v(" attribute to a "),n("code",[t._v("value")]),t._v(" prop")]),t._v(" "),n("li",[t._v("On "),n("code",[t._v("input")]),t._v(", emit its own custom "),n("code",[t._v("input")]),t._v(" event with the new value")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n        <template>\n          <input :value="value" @input="$emit(\'input\', $event.target.value)">\n        </template>\n      ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Now "),e("code",[this._v("v-model")]),this._v(" should work perfectly with this component:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n        <custom-input v-model="searchText"></custom-input>\n      ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v("\n      <alert-box>\n        Something bad happened.\n      </alert-box>\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Fortunately, this task is made very simple by Vue's custom "),e("code",[this._v("<slot>")]),this._v(" element:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n      <template>\n        <div class="alert-box">\n          <b>Error!</b>\n          <slot></slot>\n        </div>\n      </template>\n      <style>\n        .alert-box {\n          padding: 10px 20px;\n          background: #f3beb8;\n          border: 1px solid #f09898;\n        }\n      </style>\n    ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-html"},[this._v('\n      <button\n        v-for="tab in tabs"\n        :key="tab"\n        :class="[\'tab-button\', { active: currentTab === tab }]"\n        @click="currentTab = tab"\n      >{ tab }}</button>\n\n      <component\n        :is="currentTabComponent"\n        class="tab"\n      ></component>\n    ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The above is made possible by Vue's "),e("code",[this._v("<component>")]),this._v(" element with the "),e("code",[e("a",{staticClass:"vue-api"},[this._v("is")])]),this._v(" special attribute. "),e("code",[this._v("currentTabComponent")]),this._v(" can contain either:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"my-js"},[this._v("\n      data: {\n        currentTab: 'Home',\n        tabs: ['Home', 'Posts', 'Archive']\n      },\n      computed: {\n        currentTabComponent() {\n          // the name of a registered component\n          return `tab-${this.currentTab.toLowerCase()}`\n        }\n      }\n    ")])])}],!1,null,null,null);a.options.__file="docs/web/vue/guide/Components.vue";e.default=a.exports}}]);