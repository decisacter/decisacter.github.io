(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{166:function(e,n,o){"use strict";o.r(n);var t=function(){var e=this.$createElement;this._self._c;return this._m(0)};t._withStripped=!0;var a=o(0),s=Object(a.a)({},t,[function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("section",[o("h3",[e._v("Components Registration")]),e._v(" "),o("section",[o("h4",[e._v("Component Names")]),e._v(" "),o("p",[e._v("The component's name is the first argument of "),o("code",[o("a",{staticClass:"vue-api"},[e._v("Vue.component")])]),e._v(". The name you give a component may depend on where you intend to use it. When using a component directly in the DOM (as opposed to in a string template or "),o("b",[e._v("single-file component")]),e._v("), we strongly recommend following the "),o("b",[e._v("W3C rules")]),e._v(" for custom tag names (all-lowercase, must contain a hyphen). This helps you avoid conflicts with current and future HTML elements.")]),e._v(" "),o("section",[o("h5",[e._v("Name Casing")]),e._v(" "),o("section",[o("h6",[e._v("With kebab-case")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n          Vue.component('my-component-name', { /* ... */ })\n        ")])]),e._v(" "),o("p",[e._v("When defining a component with kebab-case, you must also use kebab-case when referencing its custom element, such as in "),o("code",[e._v("<my-component-name>")]),e._v(".")])]),e._v(" "),o("section",[o("h6",[e._v("With PascalCase")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n          Vue.component('MyComponentName', { /* ... */ })\n        ")])]),e._v(" "),o("p",[e._v("When defining a component with PascalCase, you can use either case when referencing its custom element. That means both "),o("code",[e._v("<my-component-name>")]),e._v(" and "),o("code",[e._v("<MyComponentName>")]),e._v(" are acceptable. Note, however, that only kebab-case names are valid directly in the DOM (i.e. non-string templates).")])])])]),e._v(" "),o("section",[o("h4",[e._v("Global Registration")]),e._v(" "),o("p",[e._v("So far, we've only created components using "),o("code",[e._v("Vue.component")]),e._v(" These components are "),o("b",[e._v("globally registered")]),e._v(". That means they can be used in the template of any root Vue instance ("),o("code",[e._v("new Vue")]),e._v(") created after registration. This even applies to all subcomponents, meaning all three of these components will also be available "),o("i",[e._v("inside each other")]),e._v(". For example:")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n      Vue.component('component-a', { /* ... */ })\n      Vue.component('component-b', { /* ... */ })\n      \n      new Vue({ el: '#app' })\n    ")])]),e._v(" "),o("pre",[o("code",{staticClass:"my-html"},[e._v('\n      <div id="app">\n        <component-a></component-a>\n        <component-b></component-b>\n      </div>\n    ')])])]),e._v(" "),o("section",[o("h4",[e._v("Local Registration")]),e._v(" "),o("p",[e._v("Global registration often isn't ideal. For example, if you're using a build system like "),o("b",[e._v("Webpack")]),e._v(", globally registering all components means that even if you stop using a component, it could still be included in your final build. This unnecessarily increases the amount of JavaScript your users have to download. In these cases, you can define your components as plain JavaScript objects, then define the components you'd like to use in a "),o("code",[e._v("components")]),e._v(" option::")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n      var ComponentA = { /* ... */ }\n      var ComponentB = { /* ... */ }\n    ")])]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n      new Vue({\n        el: '#app',\n        components: {\n          'component-a': ComponentA,\n          'component-b': ComponentB\n        }\n      })\n    ")])]),e._v(" "),o("p",[e._v("For each property in the "),o("code",[e._v("components")]),e._v(" object, the key will be the name of the custom element, while the value will contain the options object for the component.")]),e._v(" "),o("p",[e._v("Note that "),o("b",[e._v("locally registered components are "),o("i",[e._v("not")]),e._v(" also available in subcomponents")]),e._v(". For example, if you wanted "),o("code",[e._v("ComponentA")]),e._v(" to be available in "),o("code",[e._v("ComponentB")]),e._v(", you'd have to use:")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n      var ComponentA = { /* ... */ }\n    \n      var ComponentB = {\n        components: {\n          'component-a': ComponentA\n        },\n        // ...\n      }\n    ")])]),e._v(" "),o("p",[e._v("Or if you're using ES2015 modules, such as through Babel and Webpack, that might look more like:")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n      import ComponentA from './ComponentA')\n    \n      export default {\n        components: {\n          ComponentA\n        },\n        // ...\n      }\n    ")])]),e._v(" "),o("p",[e._v("Note that in ES2015+, placing a variable name like "),o("code",[e._v("ComponentA")]),e._v(" inside an object is shorthand for "),o("code",[e._v("ComponentA: ComponentA")]),e._v(", meaning the name of the variable is both:")]),e._v(" "),o("ul",[o("li",[e._v("the custom element name to use in the template, and")]),e._v(" "),o("li",[e._v("the name of the variable containing the component options")])])]),e._v(" "),o("section",[o("h4",[e._v("Module Systems")]),e._v(" "),o("section",[o("h5",[e._v("Local Registration in a Module System")]),e._v(" "),o("p",[e._v("In these cases, we recommend creating a "),o("code",[e._v("components")]),e._v(" directory, with each component in its own file. Then you'll need to import each component you'd like to use, before you locally register it. For example, in a hypothetical "),o("code",[e._v("ComponentB.js")]),e._v(" or "),o("code",[e._v("ComponentB.vue")]),e._v(" file:")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n        import ComponentA from './ComponentA'\n        import ComponentC from './ComponentC'\n        \n        export default {\n          components: {\n            ComponentA,\n            ComponentC\n          },\n          // ...\n        }\n      ")])]),e._v(" "),o("p",[e._v("Now both "),o("code",[e._v("ComponentA")]),e._v(" and "),o("code",[e._v("ComponentC")]),e._v(" can be used inside "),o("code",[e._v("ComponentB")]),e._v("'s template.")])]),e._v(" "),o("section",[o("h5",[e._v("Automatic Global Registration of Base Components")]),e._v(" "),o("p",[e._v("Many of your components will be relatively generic, possibly only wrapping an element like an input or a button. We sometimes refer to these as "),o("b",[e._v("base components")]),e._v(" and they tend to be used very frequently across your components.")]),e._v(" "),o("p",[e._v("The result is that many components may include long lists of base components:")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n        import BaseButton from './BaseButton')\n        import BaseIcon from './BaseIcon')\n        import BaseInput from './BaseInput')\n        export default {\n          components: {\n            BaseButton,\n            BaseIcon,\n            BaseInput\n          }\n        }\n      ")])]),e._v(" "),o("p",[e._v("Just to support relatively little markup in a template:")]),e._v(" "),o("pre",[o("code",{staticClass:"my-html"},[e._v('\n        <BaseInput\n          v-model="searchText"\n          @keydown.enter="search"\n        />\n        <BaseButton @click="search">\n          <BaseIcon name="search"/>\n        </BaseButton>\n      ')])]),e._v(" "),o("p",[e._v("Fortunately, if you're using Webpack (or "),o("b",[e._v("Vue CLI 3+")]),e._v(", which uses Webpack internally), you can use "),o("code",[e._v("require.context")]),e._v(" to globally register only these very common base components. Here's an example of the code you might use to globally import base components in your app's entry file (e.g. "),o("code",[e._v("src/main.js")]),e._v("):")]),e._v(" "),o("pre",[o("code",{staticClass:"my-js"},[e._v("\n        import Vue from 'vue'\n        import upperFirst from 'lodash/upperFirst'\n        import camelCase from 'lodash/camelCase'\n        const requireComponent = require.context(\n          // The relative path of the components folder\n          './components',\n          // Whether or not to look in subfolders\n          false,\n          // The regular expression used to match base component filenames\n          /Base[A-Z]\\w+\\.(vue|js)$/\n        )\n\n        requireComponent.keys().forEach(fileName => {\n          // Get component config\n          const componentConfig = requireComponent(fileName)\n\n          // Get PascalCase name of component\n          const componentName = upperFirst(\n            camelCase(\n              // Gets the file name regardless of folder depth\n              fileName\n                .split('/')\n                .pop()\n                .replace(/\\.\\w+$/, '')\n            )\n          )\n\n\n          // Register component globally\n          Vue.component(\n            componentName,\n            // Look for the component options on `.default`, which will\n            // exist if the component was exported with `export default`,\n            // otherwise fall back to module's root.\n            componentConfig.default || componentConfig\n          )\n        })\n      ")])]),e._v(" "),o("p",[e._v("Remember that "),o("b",[e._v("global registration must take place before the root Vue instance is created (with "),o("code",[e._v("new Vue")]),e._v(")")]),e._v(". "),o("a",{attrs:{href:"https://github.com/chrisvfritz/vue-enterprise-boilerplate/blob/master/src/components/_globals.js"}},[e._v("Here's an example")]),e._v(" of this pattern in a real project context.")])])])])}],!1,null,null,null);s.options.__file="docs/web/vue/guide/ComponentsRegistration.vue";n.default=s.exports}}]);