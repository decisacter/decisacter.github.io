(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{116:function(e,n,t){"use strict";t.r(n);var o=function(){var e=this.$createElement;this._self._c;return this._m(0)};o._withStripped=!0;var i={mixins:[{data:function(){return{message:"hello",foo:"abc"}}}],data:function(){return{message:"goodbye",bar:"def"}},created:function(){console.log(this.$data)}},s=t(0),a=Object(s.a)(i,o,[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",[t("h3",[e._v("Mixins")]),e._v(" "),t("section",[t("h4",[e._v("Basics")]),e._v(" "),t("p",[e._v('Mixins are a flexible way to distribute reusable functionalities for Vue components. A mixin object can contain any component options. When a component uses a mixin, all options in the mixin will be "mixed" into the component\'s own options.')]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      // mixin.js\n      // define a mixin object\n      export default {\n        created() {\n          this.hello()\n        },\n        methods: {\n          hello() {\n            console.log('hello from mixin!')\n          }\n        }\n      }\n    ")])]),e._v(" "),t("pre",[t("code",{staticClass:"my-html"},[e._v("\n      <script>\n        import mixin from './mixin.js'\n        export default {\n          mixins: [mixin]\n        }\n      <\/script>\n    ")])])]),e._v(" "),t("section",[t("h4",[e._v("Option Merging")]),e._v(" "),t("p",[e._v('When a mixin and the component itself contain overlapping options, they will be "merged" using appropriate strategies. For example, data objects undergo a recursive merge, with the component\'s data taking priority in cases of conflicts.')]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      // mixin.js\n      export default {\n        data() {\n          return {\n            message: 'hello',\n            foo: 'abc'\n          }\n        }\n      }\n    ")])]),e._v(" "),t("pre",[t("code",{staticClass:"my-html"},[e._v("\n      <script>\n        import mixin from './mixin.js'\n        export default {\n          mixins: [mixin],\n          data() {\n            return {\n              message: 'goodbye',\n              bar: 'def'\n            }\n          },\n          created() {\n            console.log(this.$data)\n            // => { message: \"goodbye\", foo: \"abc\", bar: \"def\" }\n          }\n        }\n      <\/script>\n    ")])]),e._v(" "),t("p",[e._v("Hook functions with the same name are merged into an array so that all of them will be called. Mixin hooks will be called "),t("b",[e._v("before")]),e._v(" the component's own hooks.")]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      // mixin.js\n      export default {\n        created() {\n          console.log('mixin hook called')\n        }\n      }\n    ")])]),e._v(" "),t("pre",[t("code",{staticClass:"my-html"},[e._v("\n      <script>\n        import mixin from './mixin.js'\n        export default {\n          mixins: [mixin],\n          created() {\n            console.log('component hook called')\n          }\n        }\n      <\/script>\n      \n      // => \"mixin hook called\"\n      // => \"component hook called\"\n    ")])]),e._v(" "),t("p",[e._v("Options that expect object values, for example "),t("code",[e._v("methods")]),e._v(", "),t("code",[e._v("components")]),e._v(" and "),t("code",[e._v("directives")]),e._v(", will be merged into the same object. The component's options will take priority when there are conflicting keys in these objects. Note that the same merge strategies are used in "),t("code",[e._v("Vue.extend()")]),e._v(".")]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      // mixin.js\n      export default {\n        methods: {\n          foo() {\n            console.log('foo')\n          },\n          conflicting() {\n            console.log('from mixin')\n          }\n        }\n      }\n    ")])]),e._v(" "),t("pre",[t("code",{staticClass:"my-html"},[e._v("\n      <script>\n        import mixin from './mixin.js'\n        export default {\n          mixins: [mixin],\n          methods: {\n            bar() {\n              console.log('bar')\n            },\n            conflicting() {\n              console.log('from self')\n            }\n          }\n        }\n      <\/script>\n      this.foo() // => \"foo\"\n      this.bar() // => \"bar\"\n      this.conflicting() // => \"from self\"\n    ")])])]),e._v(" "),t("section",[t("h4",[e._v("Global Mixin")]),e._v(" "),t("p",[e._v("You can also apply a mixin globally. Use with caution! Once you apply a mixin globally, it will affect "),t("b",[e._v("every")]),e._v(" Vue instance created afterwards. When used properly, this can be used to inject processing logic for custom options:")]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      // inject a handler for `myOption` custom option\n      Vue.mixin({\n        created() {\n          var myOption = this.$options.myOption\n          if (myOption) {\n            console.log(myOption)\n          }\n        }\n      })\n      \n      new Vue({\n        myOption: 'hello!'\n      })\n      // => \"hello!\"\n    ")])]),e._v(" "),t("p",[e._v("Use global mixins sparsely and carefully, because it affects every single Vue instance created, including third party components. In most cases, you should only use it for custom option handling like demonstrated in the example above. It's also a good idea to ship them as "),t("b",[e._v("Plugins")]),e._v(" to avoid duplicate application.")])]),e._v(" "),t("section",[t("h4",[e._v("Custom Option Merge Strategies")]),e._v(" "),t("p",[e._v("When custom options are merged, they use the default strategy which overwrites the existing value. If you want a custom option to be merged using custom logic, you need to attach a function to "),t("code",[e._v("Vue.config.optionMergeStrategies")]),e._v(":")]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      Vue.config.optionMergeStrategies.myOption = function (toVal, fromVal) {\n        // return mergedVal\n      }\n    ")])]),e._v(" "),t("p",[e._v("For most object-based options, you can use the same strategy used by "),t("code",[e._v("methods")]),e._v(":")]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      var strategies = Vue.config.optionMergeStrategies\n      strategies.myOption = strategies.methods\n    ")])]),e._v(" "),t("p",[e._v("A more advanced example can be found on "),t("a",{attrs:{href:"https://github.com/vuejs/vuex"}},[e._v("Vuex")]),e._v("'s 1.x merging strategy:")]),e._v(" "),t("pre",[t("code",{staticClass:"my-js"},[e._v("\n      const merge = Vue.config.optionMergeStrategies.computed\n      Vue.config.optionMergeStrategies.vuex = function (toVal, fromVal) {\n        if (!toVal) return fromVal\n        if (!fromVal) return toVal\n        return {\n          getters: merge(toVal.getters, fromVal.getters),\n          state: merge(toVal.state, fromVal.state),\n          actions: merge(toVal.actions, fromVal.actions)\n        }\n      }\n    ")])])])])}],!1,null,null,null);a.options.__file="docs/web/vue/guide/Mixins.vue";n.default=a.exports}}]);