(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{129:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h3",[e._v("Components Custom Events")]),e._v(" "),e._m(0),e._v(" "),n("section",[e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),n("div",{staticClass:"my-demo"},[n("base-checkbox",{model:{value:e.lovingVue,callback:function(t){e.lovingVue=t},expression:"lovingVue"}})],1),e._v(" "),e._m(5)]),e._v(" "),n("section",[n("h4",[e._v("Binding Native Events to Components")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),n("div",{staticClass:"my-demo"},[n("base-input",{nativeOn:{focus:function(t){return e.focus(t)}}})],1),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14)]),e._v(" "),n("section",[e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),n("div",{staticClass:"my-demo"},[n("text-document",{attrs:{doc:e.doc},on:{"update:doc":function(t){e.doc=t}}})],1),e._v(" "),e._m(19),e._v(" "),e._m(20)])])};s._withStripped=!0;var o={components:{BaseCheckbox:function(){return n.e(57).then(n.bind(null,142))},BaseInput:function(){return n.e(58).then(n.bind(null,143))},TextDocument:function(){return n.e(70).then(n.bind(null,144))}},data:function(){return{lovingVue:"",doc:{title:"Vue",content:"Components Custom Events"}}},methods:{focus:function(){}}},i=n(0),r=Object(i.a)(o,s,[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h4",[e._v("Event Names")]),e._v(" "),n("p",[e._v("Unlike components and props, event names don't provide any automatic case transformation. Instead, the name of an emitted event must exactly match the name used to listen to that event.")]),e._v(" "),n("pre",[n("code",{staticClass:"my-js"},[e._v("\r\n        this.$emit('myEvent')  // wrong\r\n        this.$emit('my-event') // right\r\n      ")])]),e._v(" "),n("pre",[n("code",{staticClass:"my-html"},[e._v('\r\n        <my-component @my-event="doSomething"></my-component>\r\n      ')])]),e._v(" "),n("p",[e._v("Unlike components and props, event names will never be used as variable or property names in JavaScript, so there's no reason to use camelCase or PascalCase. Additionally, "),n("code",[e._v("v-on")]),e._v(" event listeners inside DOM templates will be automatically transformed to lowercase (due to HTML's case-insensitivity), so "),n("code",[e._v("v-on:myEvent")]),e._v(" would become "),n("code",[e._v("v-on:myevent")]),e._v(" - making "),n("code",[e._v("myEvent")]),e._v(" impossible to listen to. For these reasons, we recommend you "),n("b",[e._v("always use kebab-case for event names")]),e._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[this._v("Customizing Component "),t("code",[this._v("v-model")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("By default, "),n("code",[e._v("v-model")]),e._v(" on a component uses "),n("code",[e._v("value")]),e._v(" as the prop and "),n("code",[e._v("input")]),e._v(" as the event, but some input types such as checkboxes and radio buttons may want to use the "),n("code",[e._v("value")]),e._v(" attribute for a "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Value"}},[e._v("different purpose")]),e._v(". Using the "),n("code",[e._v("model")]),e._v(" option can avoid a conflict in such cases:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\r\n        <template>\r\n          <input\r\n            type=\"checkbox\"\r\n            :checked=\"checked\"\r\n            @change=\"$emit('change', $event.target.checked)\"\r\n          >\r\n        </template>\r\n        <script>\r\n        export default {\r\n          model: {\r\n            prop: 'checked',\r\n            event: 'change'\r\n          },\r\n          props: {\r\n            checked: Boolean\r\n          }\r\n        }\r\n        <\/script>\r\n      ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v('\r\n        <base-checkbox v-model="lovingVue"></base-checkbox>\r\n      ')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("the value of "),n("code",[e._v("lovingVue")]),e._v(" will be passed to the "),n("code",[e._v("checked")]),e._v(" prop. The "),n("code",[e._v("lovingVue")]),e._v(" property will then be updated when "),n("code",[e._v("<base-checkbox>")]),e._v(" emits a "),n("code",[e._v("change")]),e._v(" event with a new value.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("There may be times when you want to listen directly to a native event on the root element of a component. In these cases, you can use the "),t("code",[this._v(".native")]),this._v(" modifier for "),t("code",[this._v("v-on")]),this._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v('\r\n        <base-input @focus.native="onFocus"></base-input>\r\n      ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("This can be useful sometimes, but it's not a good idea when you're trying to listen on a very specific element, like an "),t("code",[this._v("<input>")]),this._v(". For example, the "),t("code",[this._v("<base-input>")]),this._v(" component above might refactor so that the root element is actually a "),t("code",[this._v("<label>")]),this._v(" element.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In that case, the "),t("code",[this._v(".native")]),this._v(" listener in the parent would silently break. There would be no errors, but the "),t("code",[this._v("onFocus")]),this._v(" handler wouldn't be called when we expected it to.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To solve this problem, Vue provides a "),t("code",[this._v("$listeners")]),this._v(" property containing an object of listeners being used on the component. For example:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-js"},[this._v("\r\n        {\r\n          focus(event) { /* ... */ }\r\n          input(value) { /* ... */ },\r\n        }\r\n      ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Using the "),n("code",[e._v("$listeners")]),e._v(" property, you can forward all event listeners on the component to a specific child element with "),n("code",[e._v('v-on="$listeners"')]),e._v(". For elements like "),n("code",[e._v("<input>")]),e._v(", that you also want to work with "),n("code",[e._v("v-model")]),e._v(", it's often useful to create a new computed property for listeners, like "),n("code",[e._v("inputListeners")]),e._v(" below:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v("\r\n        <template>\r\n          <label>\r\n            { label }\r\n            <input\r\n              v-bind=\"$attrs\"\r\n              :value=\"value\"\r\n              v-on=\"inputListeners\"\r\n            >\r\n          </label>\r\n        </template>\r\n        <script>\r\n        export default {\r\n          inheritAttrs: false,\r\n          props: ['label', 'value'],\r\n          computed: {\r\n            inputListeners() {\r\n              // `Object.assign` merges objects together to form a new object\r\n              return Object.assign({},\r\n                // We add all the listeners from the parent\r\n                this.$listeners,\r\n                // Then we can add custom listeners or override the\r\n                // behavior of some listeners.\r\n                {\r\n                  // This ensures that the component works with v-model\r\n                  input(event) {\r\n                    this.$emit('input', event.target.value)\r\n                  }\r\n                }\r\n              )\r\n            }\r\n          }\r\n        }\r\n        <\/script>\r\n      ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Now the "),n("code",[e._v("<base-input>")]),e._v(" component is a "),n("b",[e._v("fully transparent wrapper")]),e._v(", meaning it can be used exactly like a normal "),n("code",[e._v("<input>")]),e._v(" element: all the same attributes and listeners will work, without the "),n("code",[e._v(".native")]),e._v(" modifier.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("code",[this._v(".sync")]),this._v(" Modifier")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v('In some cases, we may need "two-way binding" for a prop. Unfortunately, true two-way binding can create maintenance issues, because child components can mutate the parent without the source of that mutation being obvious in both the parent and the child. For convenience, we offer a shorthand for this pattern with the '),t("code",[this._v(".sync")]),this._v(" modifier. The "),t("code",[this._v(".sync")]),this._v(" modifier can also be used with "),t("code",[this._v("v-bind")]),this._v(" when using an object to set multiple props at once:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v('\r\n        <text-document v-bind.sync="doc"></text-document>\r\n      ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{staticClass:"my-html"},[this._v("\r\n        <template>\r\n          <section>\r\n            <h6 @click=\"changeTitle\">{ doc.title }</h6>\r\n            { doc.content }\r\n          </section>\r\n        </template>\r\n        <script>\r\n        export default {\r\n          props: {\r\n            doc: Object\r\n          },\r\n          methods: {\r\n            changeTitle() {\r\n              this.doc.title = 'Vue Guide'\r\n            }\r\n          }\r\n        }\r\n        <\/script>\r\n      ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("This passes each property in the "),t("code",[this._v("doc")]),this._v(" object (e.g. "),t("code",[this._v("title")]),this._v(") as an individual prop, then adds "),t("code",[this._v("v-on")]),this._v(" update listeners for each one.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Note that "),n("code",[e._v("v-bind")]),e._v(" with the "),n("code",[e._v(".sync")]),e._v(" modifier does "),n("b",[e._v("not")]),e._v(" work with expressions (e.g. "),n("code",[e._v("v-bind:title.sync=\"doc.title + '!'\"")]),e._v(" is invalid). Instead, you must only provide the name of the property you want to bind, similar to "),n("code",[e._v("v-model")]),e._v(". Using "),n("code",[e._v("v-bind.sync")]),e._v(" with a literal object, such as in "),n("code",[e._v('v-bind.sync="{ title: doc.title }"')]),e._v(", will not work, because there are too many edge cases to consider in parsing a complex expression like this.")])}],!1,null,null,null);r.options.__file="docs/web/vue/guide/ComponentsCustomEvents.vue";t.default=r.exports}}]);